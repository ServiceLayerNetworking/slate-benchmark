__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 09:33:07 UTC)" raised an exception
Traceback (most recent call last):
  File "/app/optimizer_test.py", line 573, in run_optimizer
    incoming = endpoint_level_rps[cid][root_ep_svc_name][root_ep]
KeyError: 'sslateingress@POST@/cart/checkout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 575, in run_optimizer
    logger.error(f'endpoint_level_rps[{cid}][{root_ep_svc_name}][{root_ep}]: {endpoint_level_rps[cid][root_ep_svc_name][root_ep]}')
KeyError: 'sslateingress@POST@/cart/checkout'
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 09:33:08 UTC)" raised an exception
Traceback (most recent call last):
  File "/app/optimizer_test.py", line 573, in run_optimizer
    incoming = endpoint_level_rps[cid][root_ep_svc_name][root_ep]
KeyError: 'sslateingress@POST@/cart/checkout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 575, in run_optimizer
    logger.error(f'endpoint_level_rps[{cid}][{root_ep_svc_name}][{root_ep}]: {endpoint_level_rps[cid][root_ep_svc_name][root_ep]}')
KeyError: 'sslateingress@POST@/cart/checkout'
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3175) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,794 -> new_capacity, 794
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,794 -> new_capacity, 794
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,794 -> new_capacity, 794
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,794 -> new_capacity, 794
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3763) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,941 -> new_capacity, 941
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,941 -> new_capacity, 941
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,941 -> new_capacity, 941
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,941 -> new_capacity, 941
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3594) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,899 -> new_capacity, 899
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,899 -> new_capacity, 899
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,899 -> new_capacity, 899
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,899 -> new_capacity, 899
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3240) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,811 -> new_capacity, 811
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,811 -> new_capacity, 811
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,811 -> new_capacity, 811
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,811 -> new_capacity, 811
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3029) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,758 -> new_capacity, 758
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,758 -> new_capacity, 758
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,758 -> new_capacity, 758
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,758 -> new_capacity, 758
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3135) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,784 -> new_capacity, 784
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,784 -> new_capacity, 784
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,784 -> new_capacity, 784
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,784 -> new_capacity, 784
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3114) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3182) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,796 -> new_capacity, 796
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,796 -> new_capacity, 796
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,796 -> new_capacity, 796
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,796 -> new_capacity, 796
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2960) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3068) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,768 -> new_capacity, 768
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,768 -> new_capacity, 768
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,768 -> new_capacity, 768
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,768 -> new_capacity, 768
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3111) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,778 -> new_capacity, 778
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,778 -> new_capacity, 778
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,778 -> new_capacity, 778
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,778 -> new_capacity, 778
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 09:33:32 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 622, in run_optimizer
    for svc_name in endpoint_level_rps[cid]:
RuntimeError: dictionary changed size during iteration
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3270) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,818 -> new_capacity, 818
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,818 -> new_capacity, 818
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,818 -> new_capacity, 818
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,818 -> new_capacity, 818
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3112) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 09:33:35 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 622, in run_optimizer
    for svc_name in endpoint_level_rps[cid]:
RuntimeError: dictionary changed size during iteration
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2933) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2905) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,727 -> new_capacity, 727
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,727 -> new_capacity, 727
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,727 -> new_capacity, 727
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,727 -> new_capacity, 727
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3112) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,779 -> new_capacity, 779
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2849) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2971) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,743 -> new_capacity, 743
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,743 -> new_capacity, 743
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,743 -> new_capacity, 743
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,743 -> new_capacity, 743
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3005) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,752 -> new_capacity, 752
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,752 -> new_capacity, 752
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,752 -> new_capacity, 752
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,752 -> new_capacity, 752
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2888) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,723 -> new_capacity, 723
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,723 -> new_capacity, 723
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,723 -> new_capacity, 723
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,723 -> new_capacity, 723
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2844) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,712 -> new_capacity, 712
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,712 -> new_capacity, 712
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,712 -> new_capacity, 712
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,712 -> new_capacity, 712
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 09:33:49 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 622, in run_optimizer
    for svc_name in endpoint_level_rps[cid]:
RuntimeError: dictionary changed size during iteration
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2921) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,731 -> new_capacity, 731
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,731 -> new_capacity, 731
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,731 -> new_capacity, 731
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,731 -> new_capacity, 731
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2961) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,741 -> new_capacity, 741
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2849) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2986) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,747 -> new_capacity, 747
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,747 -> new_capacity, 747
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,747 -> new_capacity, 747
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,747 -> new_capacity, 747
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2853) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,714 -> new_capacity, 714
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,714 -> new_capacity, 714
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,714 -> new_capacity, 714
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,714 -> new_capacity, 714
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2804) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,702 -> new_capacity, 702
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,702 -> new_capacity, 702
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,702 -> new_capacity, 702
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,702 -> new_capacity, 702
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2895) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,724 -> new_capacity, 724
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,724 -> new_capacity, 724
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,724 -> new_capacity, 724
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,724 -> new_capacity, 724
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2830) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
