__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 08:50:04 UTC)" raised an exception
Traceback (most recent call last):
  File "/app/optimizer_test.py", line 573, in run_optimizer
    incoming = endpoint_level_rps[cid][root_ep_svc_name][root_ep]
KeyError: 'sslateingress@POST@/cart/checkout'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 575, in run_optimizer
    logger.error(f'endpoint_level_rps[{cid}][{root_ep_svc_name}][{root_ep}]: {endpoint_level_rps[cid][root_ep_svc_name][root_ep]}')
KeyError: 'sslateingress@POST@/cart/checkout'
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3194) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,799 -> new_capacity, 799
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,799 -> new_capacity, 799
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,799 -> new_capacity, 799
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,799 -> new_capacity, 799
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3667) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,917 -> new_capacity, 917
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,917 -> new_capacity, 917
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,917 -> new_capacity, 917
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,917 -> new_capacity, 917
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3353) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,839 -> new_capacity, 839
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,839 -> new_capacity, 839
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,839 -> new_capacity, 839
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,839 -> new_capacity, 839
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3156) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,790 -> new_capacity, 790
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,790 -> new_capacity, 790
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,790 -> new_capacity, 790
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,790 -> new_capacity, 790
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3279) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,820 -> new_capacity, 820
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,820 -> new_capacity, 820
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,820 -> new_capacity, 820
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,820 -> new_capacity, 820
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3289) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,823 -> new_capacity, 823
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,823 -> new_capacity, 823
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,823 -> new_capacity, 823
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,823 -> new_capacity, 823
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3125) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,782 -> new_capacity, 782
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,782 -> new_capacity, 782
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,782 -> new_capacity, 782
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,782 -> new_capacity, 782
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3322) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,831 -> new_capacity, 831
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,831 -> new_capacity, 831
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,831 -> new_capacity, 831
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,831 -> new_capacity, 831
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3167) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,792 -> new_capacity, 792
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,792 -> new_capacity, 792
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,792 -> new_capacity, 792
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,792 -> new_capacity, 792
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3086) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,772 -> new_capacity, 772
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,772 -> new_capacity, 772
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,772 -> new_capacity, 772
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,772 -> new_capacity, 772
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3152) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,789 -> new_capacity, 789
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,789 -> new_capacity, 789
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,789 -> new_capacity, 789
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,789 -> new_capacity, 789
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2871) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,718 -> new_capacity, 718
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,718 -> new_capacity, 718
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,718 -> new_capacity, 718
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,718 -> new_capacity, 718
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3052) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,764 -> new_capacity, 764
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,764 -> new_capacity, 764
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,764 -> new_capacity, 764
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,764 -> new_capacity, 764
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2926) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,732 -> new_capacity, 732
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,732 -> new_capacity, 732
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,732 -> new_capacity, 732
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,732 -> new_capacity, 732
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2829) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,708 -> new_capacity, 708
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2981) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2983) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,746 -> new_capacity, 746
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2934) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,734 -> new_capacity, 734
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(3040) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,761 -> new_capacity, 761
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,761 -> new_capacity, 761
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,761 -> new_capacity, 761
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,761 -> new_capacity, 761
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2914) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,729 -> new_capacity, 729
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,729 -> new_capacity, 729
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,729 -> new_capacity, 729
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,729 -> new_capacity, 729
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2851) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,713 -> new_capacity, 713
apscheduler.executors.default - run_job(line:131) - Job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-05-06 08:50:58 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 996, in optimizer_entrypoint
    cur_percentage_df, desc = opt.run_optimizer(\
  File "/app/optimizer_test.py", line 622, in run_optimizer
    for svc_name in endpoint_level_rps[cid]:
RuntimeError: dictionary changed size during iteration
__main__ - optimizer_entrypoint(line:970) - !!! ERROR !!! Total demand(2878) at sslateingress > total capcity(2800) at frontend
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,720 -> new_capacity, 720
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,720 -> new_capacity, 720
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,720 -> new_capacity, 720
__main__ - optimizer_entrypoint(line:974) - recalc capacity: frontend, old_capacity,720 -> new_capacity, 720
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - optimizer_entrypoint(line:959) - !!! Skip optimizer !!! all root_node_rps all regions are 0
